# Class Assignment 2 (CA2) - Part 1: Build Tools with Gradle

##  Table of Contents

1. [Introduction](#introduction)
2. [Task List](#task-list)
  - [1. GitHub Issue Creation](#1-github-issue-creation)
  - [2. Folder, Content Setup and Initial Commit](#2-folder-content-setup-and-initial-commit)
  - [3. Run Application](#3-run-application)
  - [4. Add a New Task to Execute the Server](#4-add-a-new-task-to-execute-the-server)
  - [5. Add Unit Test and Update Gradle Script](#5-add-unit-test-and-update-gradle-script)
  - [6. Update README](#6-update-readme)
  - [7. Add Copy Task](#7-add-copy-task)
  - [8. Add Zip Task](#8-add-zip-task)
  - [9. Create and Update the README](#9-create-and-update-the-readme)
  - [10. Tag your repository](#10-tag-your-repository)

## Introduction

Welcome to Part 1 of the Class Assignment 2 (CA2) - Build Tools with Gradle. In this part of the assignment, we will focus on practicing Gradle using a simple example application. The primary objectives include setting up the project, executing tasks, adding unit tests, and performing basic build automation.

## Task List

### 1. Git Hub Issue Creation

Create issue(s) in GitHub main task:

- **Issue #6**: Creating CA2, Part 1 and Part 2 folders and include the example application
- **Issue #7**: Add a new task to execute the server
- **Issue #8**: Add a simple unit test and update the gradle script
- **Issue #9**: Add a new task of type Copy to be used to make a backup of the sources of the application
- **Issue #10**: Add a new task of type Zip to be used to make an archive (i.e., zip file) of the sources of the application
- **Issue #11**: Add README and update

### 2. Folder, Content Setup and Initial Commit

* Create CA2 folder
  * `mkdir CA2`


* Create Part1 and Part2 folders inside CA2
  * `mkdir Part1`
  * `mkdir Part2`


* Copy the content gradle_basic_demo to folder Part1
  * `cd Part1`
  * `git clone https://bitbucket.org/pssmatos/gradle_basic_demo.git`


* Clean unnecessary content and move necessary files

* Add, commit and push the changes to the repository.

  * `git status`
  * `git add .`
  * `git commit -m Create CA2, part1 and part2 folder and include example application, closes #6`
  * `git push`

### 3. Run Application 

* Before running the application, make sure to read the instructions available in the readme.md file. 
  * Follow the steps provided in the readme to set up and run the application: 
    * Open a terminal and navigate do the Part1 folder.
      * Execute the following commands and run the application:
        * **Project Compilation:** `./gradlew build`
        *  **Server Execution:** 
  `java -cp build/libs/basic_demo-0.1.0.jar basic_demo.ChatServerApp 59001`
        * **Client Execution:** `./gradlew runClient`
    
            ![Run Client](https://i.ibb.co/brk2fnY/Screenshot-from-2024-03-18-17-34-44.png)

          ![Run Application](https://i.ibb.co/ss9Wc2S/Screenshot-from-2024-03-18-17-30-51.png)

* Interact with the client windows
  * To run several clients, you just need to open more terminals and repeat the invocation of the runClient gradle task
 
  ![Multiple Clients](https://i.ibb.co/h8pd3LR/Screenshot-from-2024-03-18-17-33-06.png)
  
* After testing, stop the server (Ctrl + C).


### 4. Add a New Task to Execute the Server
* Add a new task of type "Copy" to create a backup of the application sources.
* Navigate to `build.gradle` and add the task:
```java
task runServer(type:JavaExec, dependsOn: classes){
  group = "DevOps"
  description = "Launches a chat server that connects to a server on localhost:59001"

  classpath = sourceSets.main.runtimeClasspath

  mainClass = 'basic_demo.ChatServerApp'

  args '59001'
}
```
* Verify and execute the task:
  * `./ gradlew runServer`

* Stage, commit, and push the changes:
  * `git add .`
  * `git commit -m "add runServer task, closes #7`
  * `git push`

### 5. Add Unit Test and Update Gradle Script

* Create a new Java class named "AppTest" and paste the content from slide:
```java
/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package basic_demo;
import org.junit.Test;
import static org.junit.Assert.*;
public class AppTest {
  @Test public void testAppHasAGreeting() {
    App classUnderTest = new App();
    assertNotNull("app should have a greeting", classUnderTest.getGreeting());
  }
}
```
* Update the dependencies in the `build.gradle` file to include JUnit 4.12:

  * `testImplementation 'junit:junit:4.12'`
  

* Verify and run the test:
  * ` ./gradlew test`

    ![Run test](https://i.ibb.co/T2Dd0QP/Screenshot-from-2024-03-18-18-13-59.png)
    

* Stage, commit, and push the changes:
  * `git add .`
  * `git commit -m "add a unit test and update the gradle script, closes #8`
  * `git push`

### 7. Add Copy Task
* Add a new task of type "Copy" to create a backup of the application sources.
* Navigate to `build.gradle` and add the task:

```java
task backup(type: Copy){
    group = "DevOps"
    description = "Copies the sources of the application to a backup folder"

    from 'src'
    into 'backup'
} 
```
* Verify and execute the task:
  * `./gradlew backup`

    ![backup](https://i.ibb.co/FKgt0Lq/Screenshot-from-2024-03-18-18-28-37.png)
  
* Stage, commit, and push the changes:
  * ` git add `
  * `git commit -m "added a new task of type Copy, closes #9"`
  * ` git push `

### 8. Add Zip Task
* Add a new task of type "Zip" to create an archive of the application sources.
* Navigate to `build.gradle` and add the task:

```java
ttask archive(type: Zip){
  group = "DevOps"
  description = "Creates a zip file of the sources of the application"

  from 'src'
  archiveFileName = 'src.zip'
  destinationDir(file('build'))
}
```
* Verify and execute the task:
  * `./ gradlew archive`

    ![Archive](https://i.ibb.co/cTdjJPB/Screenshot-from-2024-03-18-18-41-02.png)

* Stage, commit, and push the changes:
  * ` git add .`
  * `git commit -m "added a new task of type Zip, closes #10"`
  * ` git push `
  
  
* ### 9. Create and update the README:

* Create README-CA1-PART1.md in the CA2/part1 folder:
  * `cd CA2/part1`
  * `touch README-CA1-PART1.md`

* Update the README and add to commit in the next commit:
  * `git add .`
* Commit the changes:
  * `git commit -m "Update README, closes #11"`
* Push the changes to the remote repository:
  * ` git push`

### 10. Tag your repository:
* Tag your repository:
  * `git tag -a ca2-part1 -m "final version part1" `
  * ` git push origin ca2-part1`

[Back to Top](#class-assignment-2-ca2---part-1-build-tools-with-gradle)